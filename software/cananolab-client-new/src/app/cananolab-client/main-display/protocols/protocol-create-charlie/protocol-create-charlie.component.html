<canano-main-display-heading
    [helpUrl]="'https://wiki.nci.nih.gov/display/caNanoLab/Managing+Protocols+in+caNanoLab#ManagingProtocolsincaNanoLab-SubmitProtocol'"
    [toolHeadingName]="'Create Protocol'"
>
</canano-main-display-heading>

<div class="error" *ngIf="errors['error']">
    {{errors['error']}}
</div>
<div class="mainSection">
    <div class="mainBorder">
    <form (ngSubmit)="onSubmit()" #f="ngForm" name="searchForm">

        <table class="searchForm">
            <!-- Protocol Type -->
            <tr>
                <td class="label">
                    <label for="protocolType">
                        Protocol Type*
                    </label>
                </td>
                <td>
                    <select id="protocolType" [(ngModel)]="type" name="type">
                        <option [ngValue]="''" [selected]="true">--Select--</option>
                        <option *ngFor="let type of protocolTypes" value="{{type}}">{{type}}</option>
                    </select>
                </td>
            </tr>
            <!-- -----  END Protocol Type  ----- -->
            <!-- -----  Protocol Name  ----- -->
            <tr>
                <td class="label">
                    <label for="protocolName">
                        Protocol Name<sup><b>*</b></sup>
                    </label>
                </td>
                <td>
                    <input type="text" name="name" id="protocolName" ngModel required>
                </td>
            </tr>
            <!--  -----  END Protocol Name  ----- -->
            <!--  -----  Protocol Abbreviation  ----- -->
            <tr>
                <td class="label">
                    <label for="abbreviation">
                        <div>Protocol</div>
                        <div>Abbreviation</div>
                    </label>
                </td>
                <td>
                    <input id="abbreviation" name="abbreviation" type="text" ngModel>
                </td>
            </tr>
            <!-- END Protocol Abbreviation -->
            <!-- Protocol Version-->
            <tr>
                <td class="label">
                    <label for="protocolVersion">
                        Protocol Version
                    </label>
                </td>
                <td>
                    <input id="protocolVersion" name="version" type="text" ngModel>
                </td>
            </tr>
            <!--            END Protocol Version-->
            <!--            Protocol File-->
            <tr>
                <td class="label">
                    <label for="protocolFile">
                        Protocol File
                    </label>
                </td>
                <!-- Radio buttons for "Upload"/"Enter File URL" -->
                <td>
                    <!-- Radio button for Upload -->
                    <input name="create_protocol_file_radio" id="create_protocol_file_radio0" type="radio" checked (click)="onUpload()">
                    <label for="create_protocol_file_radio0">
                        Upload
                    </label>
                    <!-- END Radio button for Upload -->
                    <!-- Radio button for File URL -->
                    <input name="create_protocol_file_radio" id="create_protocol_file_radio1" type="radio" (click)="onEnterFileUrl()">
                    <label for="create_protocol_file_radio1">
                        Enter File URL
                    </label>
                    <!-- END Radio button for File URL -->
                    <!-- END Radio buttons for "Upload"/"Enter File URL" -->
                    <!-- File browser button -->
                    <input [ngClass]="{'hide': uriExternal}" type="file" (change)="getFiles($event)">
                    <!-- END File browser button -->
                    <!-- File URL text input -->
                    <input [ngClass]="{'hide': ! uriExternal}" placeholder="File URL" type="text" id="externalUrl" name="externalUrl" [(ngModel)]="externalUrl">
                    <!-- File URL text input -->
                </td>
            </tr>
            <!-- Protocol File Title -->
            <tr>
                <td class="label">
                    <label for="fileTitle">
                        File Title
                    </label>
                </td>
                <td>
                    <input name="fileTitle" id="fileTitle" type="text" ngModel>
                </td>
            </tr>
            <!-- END Protocol File Title -->
            <!--  Description  -->
            <tr>
                <td class="label">
                    <label for="description">
                        Description
                    </label>
                </td>
                <td>
                    <textarea name="fileDescription" id="description" cols="60" rows="3" [(ngModel)]="fileDescription">
                    </textarea>
                </td>
            </tr>
            <!--  END Description  -->
        </table>
        <div class="buttons">
            <input (click)="onReset()" type="reset" value="Reset" class="btn-canano btn-canano-danger btn-canano-lg mr-1">
            <input [disabled]= "!f.valid" type="submit" value="Save" class="btn-canano btn-canano-primary btn-canano-lg mr-1">
        </div>
    </form>
</div>

</div>
