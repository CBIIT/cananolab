<div class="spacer" id="synthesis">
    <table border="0" class="contentTitle" summary="layout" width="100%">
        <tr>
            <th align="left" scope="col">Sample {{sampleName.name}} Synthesis</th>
            <td align="right" width="30%">
                <a ng-disabled="loader" class="helpText" ng-click="print()" href="" target="_blank">Print</a>
                <a ng-disabled="loader" class="helpText"
                    ng-href="/caNanoLab/rest/composition/summaryExport?sampleId={{sampleId.data}}&type=all">Export</a>
                <a class="helpText"
                    href="javascript:openHelpWindow('https://wiki.nci.nih.gov/display/caNanoLab/Managing+Sample+Composition+Annotations#ManagingSampleCompositionAnnotations-Composition')">Help</a>
                <a class="helpText"
                    href="javascript:openHelpWindow('https://wiki.nci.nih.gov/display/caNanoLab/caNanoLab+Glossary')">Glossary</a>
            </td>
        </tr>
    </table>
    <tabset justified="true">
        <tab heading="All" ng-click="select(-1)"></tab>
        <tab heading="Materials" ng-click="select(0)"></tab>
        <tab heading="Functionalization" ng-click="select(1)"></tab>
        <tab heading="Purification" ng-click="select(2)"></tab>
    </tabset>
    <table ng-hide="show0" class="summaryViewNoTop" width="100%" summary="layout">
        <tr>
            <td class="heading">Materials</td>
        </tr>
        <tr ng-repeat="m in materials">
            <td>
                <table cellspacing="0" cellpadding="0" width="100%">
                    <tr>
                        <td class="subHeading">{{m.DisplayName}}</td>
                    </tr>
                    <tr>
                        <td>
                            <table cellspacing="0" cellpadding="0" width="100%" class="topLevel">
                                <tr>
                                    <td width="10%" class="label">Description</td>
                                    <td width="90%">{{m.Description}}</td>
                                </tr>
                                <tr>
                                    <td width="10%" class="label">Protocol</td>
                                    <td width="90%">{{m.Protocol}}</td>
                                </tr>
                                <tr ng-repeat="me in m.MaterialElements">
                                    <td colspan="2" class="materials">
                                        <table cellspacing="0" cellpadding="0">
                                            <tr>
                                                <td width="10%" class="label">Material Type</td>
                                                <td width="90%">{{me.Type}}</td>
                                            </tr>
                                            <tr>
                                                <td width="10%" class="label">Chemical Name</td>
                                                <td width="90%">{{me.ChemicalName}}</td>
                                            </tr>
                                            <tr>
                                                <td width="10%" class="label">PubChem Data Source</td>
                                                <td width="90%">{{me.PubChemDataSourceName}}</td>
                                            </tr>
                                            <tr>
                                                <td width="10%" class="label">Amount (and units)</td>
                                                <td width="90%">{{me.Amount}} ({{me.ValueUnit}})</td>
                                            </tr>
                                            <tr>
                                                <td width="10%" class="label">Molecular Formula</td>
                                                <td width="90%">{{me.MolecularFormula}}</td>
                                            </tr>
                                            <tr>
                                                <td width="10%" class="label">Material Description</td>
                                                <td width="90%">{{me.Description}}</td>
                                            </tr>
                                            <tr>
                                                <td width="10%" class="label">Supplier</td>
                                                <td width="90%">{{getValueOfField(me.Supplier.supplierName)}}</td>
                                            </tr>
                                            <tr>
                                                <td width="10%" class="label">Lot or Batch Number</td>
                                                <td width="90%">{{getValueOfField(me.Supplier.lot)}}</td>
                                            </tr>
                                            <tr>
                                                <td width="10%" class="label">Inherent Functions</td>
                                                <td  width="90%" class="inherentFunctions">
                                                    <span ng-if="!me.InherentFunctions.length">N/A</span>
                                                    <div ng-repeat="iFun in me.InherentFunctions" class="inherentFunctions">
                                                        <table cellpadding="0" cellspacing="0">
                                                            <tr>
                                                                <td width="15%">Name</td>
                                                                <td width="85%">{{iFun.FunctionDisplayName}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td width="15%">Type</td>
                                                                <td width="85%">{{iFun.FunctionType}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td width="15%">Description</td>
                                                                <td width="85%">{{iFun.FunctionDescription}}</td>
                                                            </tr>
                                                        </table>
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

<div id="loader" class="sample" ng-show="loader">
    <div id="loaderText">Loading</div>
    <div id="loaderGraphic"></div>
</div>