<?xml version="1.0" encoding="UTF-8"?>

<!--L
   Copyright SAIC
   Copyright SAIC-Frederick

   Distributed under the OSI-approved BSD 3-Clause License.
   See http://ncip.github.com/cananolab/LICENSE.txt for details.
L-->

<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="gov.nih.nci.cananolab.domain.common" auto-import="false">
	<class name="Experiment" table="experiment" lazy="true" polymorphism="explicit">
		<cache usage="read-write" />
		<id name="id" type="long" column="experiment_pk_id">
			<generator class="hilo">
                          <param name="table">hibernate_unique_key</param>
                          <param name="column">next_hi</param>
                        </generator>
		</id>
		<discriminator column="discriminator" type="string"/>
		<!-- Attributes mapping for the Experiment class -->
		<property name="analysisConclusion" type="string" column="analysis_conclusion"/>
		<property name="createdBy" type="string" column="created_by"/>
		<property name="createdDate" type="java.util.Date" column="created_date"/>
		<property name="designMethodDescription" type="string" column="design_method_description"/>
		<property name="startDate" type="java.util.Date" column="start_date"/>
		<!-- Associations mapping for the Experiment class -->
		<set name="experimentConfigCollection" lazy="true" cascade="delete">
			<cache usage="read-write" />
			<key column="experiment_pk_id" />
			<one-to-many class="gov.nih.nci.cananolab.domain.common.ExperimentConfig"/>
		</set>
		<set name="resultFileCollection" table="experiment_file" lazy="true" inverse="false" cascade="delete">
			<cache usage="read-write" />
			<key column="experiment_pk_id" />
			<many-to-many class="gov.nih.nci.cananolab.domain.common.ResultFile" column="file_pk_id" />
		</set>
		<set name="sampleCollection" table="sample_experiment" lazy="true" inverse="false">
			<cache usage="read-write" />
			<key column="experiment_pk_id" />
			<many-to-many class="gov.nih.nci.cananolab.domain.common.Sample" column="sample_pk_id" />
		</set>
		<set name="datumCollection" table="experiment_datum" lazy="true" inverse="false" cascade="delete">
			<cache usage="read-write" />
			<key column="experiment_pk_id" />
			<many-to-many class="gov.nih.nci.cananolab.domain.common.Datum" column="datum_pk_id" />
		</set>
		<many-to-one name="protocol" class="gov.nih.nci.cananolab.domain.common.Protocol" column="protocol_pk_id" lazy="proxy" />
		<many-to-one name="pointOfContact" class="gov.nih.nci.cananolab.domain.common.PointOfContact" column="poc_pk_id" lazy="proxy" />
		<subclass name="gov.nih.nci.cananolab.domain.characterization.Characterization" discriminator-value="Characterization">
			<subclass name="gov.nih.nci.cananolab.domain.characterization.invivo.InvivoCharacterization" discriminator-value="InvivoCharacterization">
				<!-- Attributes mapping for the InvivoCharacterization class -->
				<property name="procedureCode" type="string" column="invivo_procedure_code"/>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.invivo.Pharmacokinetics" discriminator-value="Pharmacokinetics">

				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.invivo.Toxicology" discriminator-value="Toxicology">

				</subclass>

			</subclass>
			<subclass name="gov.nih.nci.cananolab.domain.characterization.invitro.InvitroCharacterization" discriminator-value="InvitroCharacterization">
				<!-- Attributes mapping for the InvitroCharacterization class -->
				<property name="assayType" type="string" column="invitro_assay_type"/>
				<property name="cellLine" type="string" column="invitro_cell_line"/>
				<property name="cellType" type="string" column="invitro_cell_type"/>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.invitro.MetabolicStability" discriminator-value="MetabolicStability">

				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.invitro.Transfection" discriminator-value="Transfection">

				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.invitro.OxidativeStress" discriminator-value="OxidativeStress">

				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.invitro.EnzymeInduction" discriminator-value="EnzymeInduction">
					<!-- Attributes mapping for the EnzymeInduction class -->
					<property name="enzyme" type="string" column="enzyme_induction_enzyme"/>

				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.invitro.Sterility" discriminator-value="Sterility">

				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.invitro.ImmuneCellFunction" discriminator-value="ImmuneCellFunction">

				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.invitro.Cytotoxicity" discriminator-value="Cytotoxicity">

				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.invitro.Targeting" discriminator-value="Targeting">

				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.invitro.BloodContact" discriminator-value="BloodContact">

				</subclass>

			</subclass>
			<subclass name="gov.nih.nci.cananolab.domain.characterization.physical.PhysicoChemicalCharacterization" discriminator-value="PhysicalCharacterization">
				<subclass name="gov.nih.nci.cananolab.domain.characterization.physical.Purity" discriminator-value="Purity">
					<!-- Attributes mapping for the Purity class -->
					<property name="type" type="string" column="purity_type"/>

				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.physical.Size" discriminator-value="Size">

				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.physical.Shape" discriminator-value="Shape">
					<join table="shape">
						<key column="shape_pk_id" />
					<!-- Attributes mapping for the Shape class -->
					<property name="aspectRatio" type="float" column="aspect_ratio"/>
					<property name="maxDimension" type="float" column="max_dimension"/>
					<property name="maxDimensionUnit" type="string" column="max_dimension_unit"/>
					<property name="minDimension" type="float" column="min_dimension"/>
					<property name="minDimensionUnit" type="string" column="min_dimension_unit"/>
					<property name="type" type="string" column="type"/>

					</join>
				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.physical.PhysicalState" discriminator-value="PhysicalState">
					<join table="physical_state">
						<key column="physical_state_pk_id" />
					<!-- Attributes mapping for the PhysicalState class -->
					<property name="type" type="string" column="type"/>

					</join>
				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.physical.Solubility" discriminator-value="Solubility">
					<join table="solubility">
						<key column="solubility_pk_id" />
					<!-- Attributes mapping for the Solubility class -->
					<property name="criticalConcentration" type="float" column="critical_concentration"/>
					<property name="criticalConcentrationUnit" type="string" column="critical_concentration_unit"/>
					<property name="isSoluble" type="boolean" column="is_soluble"/>
					<property name="solvent" type="string" column="solvent"/>

					</join>
				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.physical.Relaxivity" discriminator-value="Relaxivity">

				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.physical.MolecularWeight" discriminator-value="MolecularWeight">

				</subclass>
				<subclass name="gov.nih.nci.cananolab.domain.characterization.physical.Surface" discriminator-value="Surface">
					<!-- Attributes mapping for the Surface class -->
					<property name="isHydrophobic" type="boolean" column="surface_is_hydrophobic"/>

				</subclass>

			</subclass>
			<subclass name="gov.nih.nci.cananolab.domain.characterization.OtherCharacterization" discriminator-value="OtherCharacterization">
				<!-- Attributes mapping for the OtherCharacterization class -->
				<property name="characterizationCategory" type="string" column="other_char_assay_category"/>
				<property name="name" type="string" column="other_char_name"/>

			</subclass>

		</subclass>
	</class>
</hibernate-mapping>
