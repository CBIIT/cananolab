<?xml version="1.0"?>
<!DOCTYPE installer PUBLIC "-//tp23 //DTD Ant Installer Config//EN" "http://antinstaller.sf.net/dtd/antinstall-config-0.8.dtd">
<installer ui="swing,text" verbose="false"
	lookAndFeel="org.tp23.jgoodies.plaf.plastic.PlasticXPLookAndFeel"
	name="caNanoLab Installer"
	windowIcon="/resources/extract-image.gif"
	defaultImageResource="/resources/appLogo-nanolab.gif"
	minJavaVersion="1.5" finishButtonText="Install" wide="600:375"
	debug="false">

	<!--  each page element represents a page of the installer -->
	<page type="input" name="intro"
		displayText="Welcome to the caNanoLab installer">

		<comment displayText="Installation Information:" bold="true" />
		<comment
			displayText="This installer will install the caNanoLab software with JBoss 4.0.05-GA (with JEMS Installer-1.2.0.GA) and MySQL 5.0.45"
			bold="false" />
	</page>
	<!--  type="license" shows a license page to click through -->
	<page type="license" name="license" displayText="License conditions"
		resource="/resources/LICENSE.txt">
	</page>
	<!--  type="license" shows a license page to click through
	-->
	<page type="text" name="release_notes" displayText="Release Notes" htmlResource="/resources/release_notes.html" textResource="/resources/release_notes.txt">
	</page>
	<!--  type="input" shows a list of editable options for the installer -->
	<page type="input" name="input.file"
		displayText="Installation Folder">
		<comment displayText="" bold="true" />
			
		<directory displayText="Enter the destination folder for the caNanoLab application:" 
			defaultValue="C:/cananolab-app" 
			property="temp.dir"/>
		
			
		<directory displayText="Enter the destination folder for the Jboss Server:" 
			defaultValue="C:/cananolab-app" 
			property="jboss.dir"/>

			
		<directory displayText="Enter the destination folder for the mySql Database" 
			defaultValue="C:/cananolab-app" 
			property="mysql.dir"/>			
    	</page>
	
	<page type="input" name="jboss.config"
		displayText="Jboss Configuration">
		<comment displayText="" bold="true" />

			
		<ext-validated
			property="jboss.http.port"
			displayText="Http Port Number" 
			defaultValue="18080" 
			validationClass="com.install.CustomValidate.ValidatePort" />
		
   	</page>	
	
	<page type="input" name="mysql.config"
		displayText="MySQL configuration">
		<comment displayText="" bold="true" />


		<ext-validated
			property="database.port"
			displayText="Database Port Number" 
			defaultValue="3307" 
			validationClass="com.install.CustomValidate.ValidatePort" />

		<text
			property="database.system.user"
			displayText="Database System User" 
			defaultValue="root" 
			/>

		<text
			property="database.system.password"
			displayText="Database System Password" 
			defaultValue="mysql" 
			/>
		
		<text
			property="database.password"
			displayText="Database User Password" 
			defaultValue="go!23" 
			/>		
			
   	</page>	
	
	<page type="input" name="patchOptions" displayText="Confirmation">
		<comment
			displayText="Install caNanoLab?"
			bold="true" />
		<comment displayText="" bold="true" />
		<target displayText="Please confirm the caNanoLab installation."
			target="auto-update" defaultValue="Yes" />
		<target displayText="Please confirm the Jboss installation."
			target="jboss-install" defaultValue="Yes" />
		<target displayText="Please confirm the mysql installation."
			target="mysql-install" defaultValue="Yes" />
		<target displayText="migrate mysql data to new version."
			target="migrate-mysql" defaultValue="Yes" />				
		<target displayText="Please confirm the jboss configuration."
			target="configure-jboss" defaultValue="Yes" />
		
	</page>

	<!--  page type="progress" shows a progress page with the install button
		Its target is set to cleanuptarget since it is the last page this target will be run last-->
	<page type="progress" name="progress" showTargets="false"
		displayText="Installation progress" target="cleanuptarget">

	</page>
</installer>


