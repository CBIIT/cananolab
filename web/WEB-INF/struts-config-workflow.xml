<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN" "http://struts.apache.org/dtds/struts-config_1_2.dtd">
<struts-config>
	<form-beans>
		<form-bean name="useAliquotForm" type="org.apache.struts.validator.DynaValidatorForm">
			<form-property name="runId" type="java.lang.String" />
			<form-property name="runName" type="java.lang.String" />
			<form-property name="assayType" type="java.lang.String" />
			<form-property name="assayName" type="java.lang.String" />
			<form-property name="aliquotIds" type="java.lang.String[]" />
			<form-property name="comments" type="java.lang.String" />
		</form-bean>
		<form-bean name="maskAliquotForm" type="org.apache.struts.validator.DynaValidatorForm">
			<form-property name="maskType" type="java.lang.String" />
			<form-property name="aliquotId" type="java.lang.String" />
			<form-property name="aliquotName" type="java.lang.String" />
			<form-property name="description" type="java.lang.String" />
			<form-property name="assayType" type="java.lang.String" />
			<form-property name="assayName" type="java.lang.String" />
			<form-property name="runName" type="java.lang.String" />
		</form-bean>
		<form-bean name="maskFileForm" type="org.apache.struts.validator.DynaValidatorForm">
			<form-property name="maskType" type="java.lang.String" />
			<form-property name="fileId" type="java.lang.String" />
			<form-property name="fileName" type="java.lang.String" />
			<form-property name="runId" type="java.lang.String" />
			<form-property name="runName" type="java.lang.String" />
			<form-property name="inout" type="java.lang.String" />
			<form-property name="method" type="java.lang.String" />
			<form-property name="description" type="java.lang.String" />
			<form-property name="assayType" type="java.lang.String" />
			<form-property name="assayName" type="java.lang.String" />
		</form-bean>
		<form-bean name="viewAliquotForm" type="org.apache.struts.action.DynaActionForm">
			<form-property name="aliquotId" type="java.lang.String" />
			<form-property name="assayType" type="java.lang.String" />
			<form-property name="assayName" type="java.lang.String" />
			<form-property name="runName" type="java.lang.String" />
		</form-bean>
		<form-bean name="createRunForm" type="org.apache.struts.validator.DynaValidatorForm">
			<form-property name="assayId" type="java.lang.String" />
			<form-property name="availableAliquot" type="java.lang.String[]" />
			<form-property name="assignedAliquot" type="java.lang.String[]" />
			<form-property name="runBy" type="java.lang.String" />
			<form-property name="runDate" type="java.lang.String" />
			<form-property name="aliquotComment" type="java.lang.String" />
		</form-bean>
		<form-bean name="createAssayRunForm" type="org.apache.struts.validator.DynaValidatorForm">
			<form-property name="assayId" type="java.lang.String" />
			<form-property name="assayName" type="java.lang.String" />
			<form-property name="availableAliquot" type="java.lang.String[]" />
			<form-property name="assignedAliquot" type="java.lang.String[]" />
			<form-property name="runBy" type="java.lang.String" />
			<form-property name="runDate" type="java.lang.String" />
			<form-property name="aliquotComment" type="java.lang.String" />
			<form-property name="assayType" type="java.lang.String" />
			<form-property name="assayName" type="java.lang.String" />
		</form-bean>
		<form-bean name="editRunForm" type="org.apache.struts.validator.DynaValidatorActionForm">
			<form-property name="runDate" type="java.lang.String" />
			<form-property name="runBy" type="java.lang.String" />
			<form-property name="createdDate" type="java.lang.String" />
			<form-property name="createdBy" type="java.lang.String" />
		</form-bean>
		<form-bean name="fileUploadForm" type="org.apache.struts.validator.DynaValidatorActionForm">
			<form-property name="assayType" type="java.lang.String" />
			<form-property name="assay" type="java.lang.String" />
			<form-property name="run" type="java.lang.String" />
			<form-property name="runby" type="java.lang.String" />
			<form-property name="rundate" type="java.lang.String" />
			<form-property name="inout" type="java.lang.String" />
			<form-property name="method" type="java.lang.String" />
			<form-property name="archiveValue" type="java.lang.String" />
			<form-property name="servletURL" type="java.lang.String" />
			<form-property name="notifyURL" type="java.lang.String" />
			<form-property name="module" type="java.lang.String" />
			<form-property name="defaultURL" type="java.lang.String" />
			<form-property name="sid" type="java.lang.String" />
			<form-property name="permissibleFileExtension" type="java.lang.String" />
		</form-bean>
		<form-bean name="fileDownloadForm" type="org.apache.struts.validator.DynaValidatorActionForm">
			<form-property name="assayType" type="java.lang.String" />
			<form-property name="assay" type="java.lang.String" />
			<form-property name="run" type="java.lang.String" />
			<form-property name="inout" type="java.lang.String" />
			<form-property name="method" type="java.lang.String" />
			<form-property name="fileName" type="java.lang.String" />
			<form-property name="fileInfoList" type="java.util.ArrayList" />
			<form-property name="downloadAll" type="java.lang.String" />
		</form-bean>
	</form-beans>
	<global-forwards>
		<forward name="useAliquot" path="workflow.usealiquot" />
		<forward name="maskAliquot" path="workflow.maskaliquot" />
		<forward name="maskFile" path="workflow.maskfile" />
		<forward name="createRun" path="workflow.createrun" />
		<forward name="createAssayRun" path="workflow.createassayrun" />
		<forward name="workflowMessage" path="workflow.message" />
		<forward name="fileUpload" path="/fileUpload.do" />
		<forward name="fileDownload" path="/fileDownload.do" />
		<forward name="runFileMask" path="/fileMask.do" />
		<forward name="fileUploadOption" path="workflow.uploadoption" />
	</global-forwards>
	<action-mappings>
		<action input="input" name="useAliquotForm" path="/useAliquot" scope="request" type="gov.nih.nci.calab.ui.workflow.UseAliquotAction">
			<exception handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler" bundle="workflow" key="error.useAliquot" path="workflow.usealiquot" type="java.lang.Exception" />
			<forward name="success" path="/initSession.do?forwardPage=workflowMessage" />
			<forward name="input" path="workflow.usealiquot" />
		</action>
		<action input="input" name="maskAliquotForm" path="/maskAliquot" scope="request" type="gov.nih.nci.calab.ui.workflow.MaskAction">
			<exception handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler" bundle="workflow" key="error.maskAliquot" path="workflow.maskaliquot" type="java.lang.Exception" />
			<forward name="success" path="/initSession.do?forwardPage=workflowMessage" />
			<forward name="input" path="workflow.maskaliquot" />
		</action>
		<action input="input" name="maskFileForm" path="/maskFile" scope="request" type="gov.nih.nci.calab.ui.workflow.MaskAction">
			<exception handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler" bundle="workflow" key="error.maskFile" path="workflow.maskfile" type="java.lang.Exception" />
			<forward name="success" path="/initSession.do?forwardPage=runFileMask" />
			<forward name="input" path="workflow.maskfile" />
		</action>
		<action name="viewAliquotForm" path="/viewAliquot" scope="request" type="gov.nih.nci.calab.ui.workflow.ViewAliquotAction">
			<exception handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler" bundle="workflow" key="error.viewAliquot.noresult" path="/initSession.do?forwardPage=workflowMessage" type="gov.nih.nci.calab.exception.CalabException" />
			<exception handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler" bundle="workflow" key="error.viewAliquot" path="/initSession.do?forwardPage=workflowMessage" type="java.lang.Exception" />
			<forward name="success" path="workflow.viewaliquot" />
		</action>
		<action name="maskAliquotForm" scope="request" path="/preMaskAliquot" type="gov.nih.nci.calab.ui.core.BaseForwardAction" parameter="workflow.maskaliquot" validate="false" />
		<action name="maskFileForm" scope="request" path="/preMaskFile" type="gov.nih.nci.calab.ui.core.BaseForwardAction" parameter="workflow.maskfile" validate="false" />

		<action name="createRunForm" path="/createRun" type="gov.nih.nci.calab.ui.workflow.CreateRunAction" input="input" scope="request">
			<exception handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler" bundle="workflow" key="error.createRun" path="workflow.createrun" type="java.lang.Exception" />
			<forward name="input" path="workflow.createrun" />
			<forward name="success" path="/initSession.do?forwardPage=fileUploadOption" />
		</action>

		<action name="createAssayRunForm" path="/createAssayRun" type="gov.nih.nci.calab.ui.workflow.CreateRunAction" input="input" scope="request">
			<exception handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler" bundle="workflow" key="error.createAssayRun" path="workflow.createassayrun" type="java.lang.Exception" />
			<forward name="input" path="workflow.createassayrun" />
			<forward name="success" path="/initSession.do?forwardPage=fileUploadOption" />
		</action>

		<action name="fileUploadForm" parameter="method" path="/fileUpload" scope="request" type="gov.nih.nci.calab.ui.workflow.FileUploadAction" input="input">
			<exception handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler" bundle="workflow" key="error.fileUpload" path="/initSession.do?forwardPage=workflowMessage" type="java.lang.Exception" />
			<forward name="success" path="workflow.fileUpload" />
			<forward name="expiredSession" path="/login.do" />
		</action>
		<action name="fileDownloadForm" parameter="method" path="/fileDownload" scope="request" type="gov.nih.nci.calab.ui.workflow.FileDownloadAction" input="input">
			<exception handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler" bundle="workflow" key="error.fileDownload.nofile" path="/initSession.do?forwardPage=workflowMessage" type="gov.nih.nci.calab.exception.CalabException" />
			<exception handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler" bundle="workflow" key="error.fileDownload" path="/initSession.do?forwardPage=workflowMessage" type="java.lang.Exception" />
			<forward name="success" path="workflow.fileDownload" />
		</action>
		<action name="maskFileForm" path="/fileMask" scope="request" type="gov.nih.nci.calab.ui.workflow.FileMaskAction" validate="false">
			<exception handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler" bundle="workflow" key="error.runFileMask" path="/initSession.do?forwardPage=workflowMessage" type="java.lang.Exception" />
			<forward name="success" path="workflow.runfilemask" />
		</action>
		<action path="/workflowForward" type="gov.nih.nci.calab.ui.core.BaseForwardAction" parameter="workflow.message" scope="request" />
	</action-mappings>
</struts-config>
