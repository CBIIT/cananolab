<!DOCTYPE form-validation PUBLIC
"-//Apache Software Foundation//DTD Commons Validator Rules Configuration 1.1.3//EN"
"http://jakarta.apache.org/commons/dtds/validator_1_1_3.dtd">

<form-validation>
	<formset>
		<form name="sampleForm">
			<field property="sampleBean.domain.name" page="1"
				depends="required">
				<arg position="0" key="sampleForm.sampleName"
					bundle="particle" />
			</field>
			<field property="sampleBean.thePOC.domain.organization.name" page="1"
				depends="required">
				<arg position="0"
					key="sampleForm.organizationName"
					bundle="particle" />
			</field>
		</form>
		<form name="/chemicalAssociation">
			<field property="assoc.type" page="2" depends="required">
				<arg position="0" key="chemicalAssociationType"
					bundle="particle" />
			</field>
			<field property="assoc.attachment.bondType" page="2"
				depends="validwhen">
				<arg position="0" key="chemicalAssociationBondType"
					bundle="particle" />
				<var>
					<var-name>test</var-name>
					<var-value>
						((assoc.type!='attachment') or (*this*!=null))
					</var-value>
				</var>
			</field>
			<field property="assoc.associatedElementA.entityId" page="2"
				depends="required">
				<arg position="0" key="associatedElementA"
					bundle="particle" />
			</field>
			<field property="assoc.associatedElementB.entityId" page="2"
				depends="required">
				<arg position="0" key="associatedElementB"
					bundle="particle" />
			</field>
			<field
				property="assoc.associatedElementA.composingElement.id" page="2"
				depends="validwhen">
				<arg position="0"
					key="associatedElementAComposingElement" bundle="particle" />
				<var>
					<var-name>test</var-name>
					<var-value>
						((assoc.associatedElementA.compositionType!='Nanomaterial
						Entity') or (*this*!=0))
					</var-value>
				</var>
			</field>
			<field
				property="assoc.associatedElementB.composingElement.id" page="2"
				depends="validwhen">
				<arg position="0"
					key="associatedElementBComposingElement" bundle="particle" />
				<var>
					<var-name>test</var-name>
					<var-value>
						((assoc.associatedElementA.compositionType!='Nanomaterial
						Entity') or (*this*!=0))
					</var-value>
				</var>
			</field>
		</form>
		<form name="/nanomaterialEntity">
			<field property="nanomaterialEntity.type" page="2" depends="required">
				<arg position="0" key="nanomaterialEntityType"
					bundle="particle" />
			</field>
			<field property="nanomaterialEntity.carbonNanotube.diameter" page="2"
				depends="float">
				<arg position="0"
					key="nanomaterialEntityForm.carbonNanotube.diameter"
					bundle="particle" />
			</field>
			<field property="nanomaterialEntity.carbonNanotube.averageLength"
				page="2" depends="float">
				<arg position="0"
					key="nanomaterialEntityForm.carbonNanotube.averageLength"
					bundle="particle" />
			</field>
			<field property="nanomaterialEntity.fullerene.numberOfCarbon" page="2"
				depends="integer">
				<arg position="0"
					key="nanomaterialEntityForm.fullerene.numberOfCarbon"
					bundle="particle" />
			</field>
			<field property="nanomaterialEntity.biopolymer.name" page="2"
				depends="validwhen">
				<arg position="0"
					key="nanomaterialEntityForm.biopolymer.name" bundle="particle" />
				<var>
					<var-name>test</var-name>
					<var-value>
						((nanomaterialEntity.type!='biopolymer') or (*this*!=null))
					</var-value>
				</var>
			</field>
			<field property="nanomaterialEntity.biopolymer.type" page="2"
				depends="validwhen">
				<arg position="0"
					key="nanomaterialEntityForm.biopolymer.type" bundle="particle" />
				<var>
					<var-name>test</var-name>
					<var-value>
						((nanomaterialEntity.type!='biopolymer') or (*this*!=null))
					</var-value>
				</var>
			</field>
			<field property="nanomaterialEntity.liposome.polymerName" page="2"
				depends="validwhen">
				<arg position="0"
					key="nanomaterialEntityForm.liposome.polymerName"
					bundle="particle" />
				<var>
					<var-name>test</var-name>
					<var-value>
						((nanomaterialEntity.type!='liposome') or
						((nanomaterialEntityliposome.polymerized=='false') or
						(*this*!=null)))
					</var-value>
				</var>
			</field>
			<field property="nanomaterialEntity.emulsion.polymerName" page="2"
				depends="validwhen">
				<arg position="0"
					key="nanomaterialEntityForm.emulsion.polymerName"
					bundle="particle" />
				<var>
					<var-name>test</var-name>
					<var-value>
						((nanomaterialEntity.type!='emulsion') or
						((nanomaterialEntity.emulsion.polymerized=='false') or
						(*this*!=null)))
					</var-value>
				</var>
			</field>
			<field property="nanomaterialEntity.polymer.crossLinkDegree" page="2"
				depends="validwhen">
				<arg position="0"
					key="nanomaterialEntityForm.polymer.crossLinkDegree"
					bundle="particle" />
				<var>
					<var-name>test</var-name>
					<var-value>
						((nanomaterialEntity.type!='polymer') or
						((nanomaterialEntity.polymer.crossLinkDegree=="No") or
						(*this*!=null)))
					</var-value>
				</var>
			</field>
			<field property="domain.type" page="2"
				depends="validwhen"
				indexedListProperty="nanomaterialEntity.composingElements">
				<arg position="0"
					key="nanomaterialEntityForm.elementType" bundle="particle" />
				<var>
					<var-name>test</var-name>
					<var-value>(*this*!=null)</var-value>
				</var>
			</field>
			<field property="domain.name" page="2"
				depends="validwhen"
				indexedListProperty="nanomaterialEntity.composingElements">
				<arg position="0"
					key="nanomaterialEntityForm.elementName" bundle="particle" />
				<var>
					<var-name>test</var-name>
					<var-value>(*this*!=null)</var-value>
				</var>
			</field>
		</form>
		<form name="/functionalizingEntity">
			<field property="functionalizingEntity.type" page="2" depends="required">
				<arg position="0" key="functionalizingEntityType"
					bundle="particle" />
			</field>
			<field property="functionalizingEntity.name" page="2" depends="required">
				<arg position="0" key="functionalizingEntityName"
					bundle="particle" />
			</field>
			<field property="functionalizingEntity.value" page="2" depends="float">
				<arg position="0" key="functionalizingEntityForm.value"
					bundle="particle" />
			</field>
			<field property="type" page="2" depends="validwhen"
				indexedListProperty="functionalizingEntity.functions">
				<arg position="0"
					key="functionalizingEntity.functionType" bundle="particle" />
				<var>
					<var-name>test</var-name>
					<var-value>(*this*!=null)</var-value>
				</var>
			</field>
		</form>
		<form name="/compositionFile">
			<field property="compFile.externalUrl" page="2"
				depends="validwhen">
				<arg position="0" key="externalUrl" bundle="particle" />
				<var>
					<var-name>test</var-name>
					<var-value>
						(((*this*!=null) and
						(compFile.domainFile.uriExternal=="true")) or
						(compFile.domainFile.uriExternal=="false"))
					</var-value>
				</var>
			</field>
			<field property="compFile.uploadedFile" page="2"
				depends="validwhen">
				<arg position="0" key="uploadedFile" bundle="particle" />
				<var>
					<var-name>test</var-name>
					<var-value>
						(((compFile.domainFile.uri!=null) or
						((*this*!=null) and
						(compFile.domainFile.uriExternal=="false"))) or
						(compFile.domainFile.uriExternal=="true"))
					</var-value>
				</var>
			</field>
			<field property="compFile.domainFile.title" page="2"
				depends="required,mask">
				<arg position="0" key="file.title" bundle="particle" />
				<msg name="mask" key="file.title.invalid" />
				<var>
					<var-name>mask</var-name>
					<var-value>^[a-zA-Z0-9\-\_\s]*$</var-value>
				</var>
			</field>
			<field property="compFile.domainFile.type" page="2"
				depends="required">
				<arg position="0" key="file.type" bundle="particle" />
			</field>
		</form>
		<form name="characterizationForm">
			<field property="achar.characterizationType" page="2"
				depends="required">
				<arg position="0" key="achar.characterizationType"
					bundle="particle" />
			</field>
			<field property="achar.characterizationName" page="2"
				depends="required">
				<arg position="0" key="achar.characterizationName"
					bundle="particle" />
			</field>
			<!--
				<field property="achar.theExperimentConfig.domain.technique.type"
				page="2" depends="validwhen">
				<arg position="0" key="achar.technique.type"
				bundle="particle" />
				<var>
				<var-name>test</var-name>
				<var-value>
				((achar.theExperimentConfig.domain.id==null) or
				(*this*!=null))
				</var-value>
				</var>
				</field>
			-->
			<!-- TODO add type
				<field property="achar.shape.maxDimension" page="2"
				depends="float">
				<arg position="0" key="shape.maxDimension"
				bundle="particle" />
				</field>
				<field property="achar.shape.minDimension" page="2"
				depends="float">
				<arg position="0" key="shape.minDimension"
				bundle="particle" />
				</field>
				<field property="achar.solubility.criticalConcentration"
				page="2" depends="float">
				<arg position="0"
				key="solubility.criticalConcentrationValue" bundle="particle" />
				</field>
				<field property="achar.solubility.criticalConcentrationUnit"
				page="2" depends="validwhen">
				<arg position="0"
				key="solubility.criticalConcentrationUnit" bundle="particle" />
				<var>
				<var-name>test</var-name>
				<var-value>
				((achar.solubility.criticalConcentration==null)
				or (*this*!=null))
				</var-value>
				</var>
				</field>
			-->
			<!--			<field property="labFileBean.domainFile.title" page="2"-->
			<!--				depends="required,mask"-->
			<!--				indexedListProperty="achar.derivedBioAssayDataList">-->
			<!--				<arg position="0" key="file.title" bundle="particle" />-->
			<!--				<msg name="mask" key="file.title.invalid" />-->
			<!--				<var>-->
			<!--					<var-name>mask</var-name>-->
			<!--					<var-value>^[a-zA-Z0-9\-\_\s]*$</var-value>-->
			<!--				</var>-->
			<!--			</field>-->
			<!--			<field property="labFileBean.domainFile.type" page="2"-->
			<!--				depends="required"-->
			<!--				indexedListProperty="achar.derivedBioAssayDataList">-->
			<!--				<arg position="0" key="file.type" bundle="particle" />-->
			<!--			</field>-->
			<!--			<field property="labFileBean.externalUrl" page="2"-->
			<!--				depends="validwhen"-->
			<!--				indexedListProperty="achar.derivedBioAssayDataList">-->
			<!--				<arg position="0" key="externalUrl"-->
			<!--					bundle="particle" />-->
			<!--				<var>-->
			<!--					<var-name>test</var-name>-->
			<!--					<var-value>-->
			<!--						(((*this*!=null) and-->
			<!--						  (achar.derivedBioAssayDataList[].labFileBean.domainFile.uriExternal=="true")) or-->
			<!--						 (achar.derivedBioAssayDataList[].labFileBean.domainFile.uriExternal=="false"))-->
			<!--					</var-value>-->
			<!--				</var>-->
			<!--			</field>-->
			<!--			<field property="labFileBean.uploadedFile" page="2"-->
			<!--				depends="validwhen"-->
			<!--				indexedListProperty="achar.derivedBioAssayDataList">-->
			<!--				<arg position="0" key="uploadedFile"-->
			<!--					bundle="particle" />-->
			<!--				<var>-->
			<!--					<var-name>test</var-name>-->
			<!--					<var-value>-->
			<!--						(((achar.derivedBioAssayDataList[].labFileBean.domainFile.uri!=null) or-->
			<!--						 ((*this*!=null) and-->
			<!--						  (achar.derivedBioAssayDataList[].labFileBean.domainFile.uriExternal=="false"))) or-->
			<!--						(achar.derivedBioAssayDataList[].labFileBean.domainFile.uriExternal=="true"))-->
			<!--					</var-value>-->
			<!--				</var>-->
			<!--			</field>-->
		</form>
		<form name="characterizationMultiDeletionForm">
			<field property="charIds" depends="required" page="2">
				<arg position="0" key="delete.charIds"
					bundle="particle" />
			</field>
		</form>
		<form name="searchSampleForm">
			<field property="text" page="1" depends="mask">
				<arg position="0" key="text" bundle="particle" />
				<msg name="mask" key="text.invalid" />
				<var>
					<var-name>mask</var-name>
					<var-value>^[a-zA-Z0-9\-\_\s\"']*$</var-value>
				</var>
			</field>
		</form>
		<form name="submitPointOfContactForm">
			<field property="poc.organization.name" page="2"
				depends="required">
				<arg position="0"
					key="submitPointOfContactForm.organizationName"
					bundle="pointOfContact" />
			</field>
			<field property="organization.name" page="2"
				depends="required"
				indexedListProperty="otherPoc.otherPointOfContacts">
				<arg position="0"
					key="submitPointOfContactForm.organizationName"
					bundle="pointOfContact" />
			</field>
		</form>
	</formset>
</form-validation>
