<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN" "http://struts.apache.org/dtds/struts-config_1_2.dtd">
<struts-config>
	<form-beans>
		<form-bean name="submitReportForm"
			type="org.apache.struts.validator.DynaValidatorForm">
			<form-property name="dispatch" type="java.lang.String" />
			<form-property name="page" type="java.lang.Integer"
				initial="0" />
			<form-property name="particleNames"
				type="java.lang.String[]" />
			<form-property name="uploadedFile"
				type="org.apache.struts.upload.FormFile" />
			<form-property name="file"
				type="gov.nih.nci.calab.dto.common.LabFileBean" />
		</form-bean>
		<form-bean name="searchReportForm"
			type="org.apache.struts.validator.DynaValidatorForm">
			<form-property name="particleType" type="java.lang.String" />
			<form-property name="functionTypes"
				type="java.lang.String[]" />
			<form-property name="reportTitle" type="java.lang.String" />
			<form-property name="reportType" type="java.lang.String" />
		</form-bean>
		<form-bean name="remoteSearchReportForm"
			type="org.apache.struts.validator.DynaValidatorForm">
			<form-property name="particleType" type="java.lang.String" />
			<form-property name="functionTypes"
				type="java.lang.String[]" />
			<form-property name="reportTitle" type="java.lang.String" />
			<form-property name="reportType" type="java.lang.String" />
			<form-property name="gridNodes" type="java.lang.String[]" />
		</form-bean>
	</form-beans>
	<global-exceptions>
		<exception
			handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler"
			key="error.reportException" path="home.error"
			type="gov.nih.nci.calab.exception.ReportException" />
	</global-exceptions>
	<action-mappings>
		<action path="/manageReport"
			type="gov.nih.nci.calab.ui.core.BaseForwardAction"
			parameter="report.manageReport" scope="request" />
		<action name="submitReportForm" parameter="dispatch"
			path="/submitReport"
			type="gov.nih.nci.calab.ui.report.SubmitReportAction" input="input"
			scope="request">
			<exception
				handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler"
				bundle="report" key="error.generalException"
				path="report.submitReport" type="java.lang.Exception" />
			<exception
				handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler"
				bundle="report" key="error.particleException"
				path="report.submitReport"
				type="gov.nih.nci.calab.exception.ParticleException" />
			<exception
				handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler"
				bundle="report" key="error.securityException"
				path="report.submitReport"
				type="gov.nih.nci.calab.exception.CaNanoLabSecurityException" />
			<forward name="success" path="report.message" />
			<forward name="input" path="report.submitReport" />
		</action>
		<action name="submitReportForm" parameter="dispatch"
			path="/updateReport"
			type="gov.nih.nci.calab.ui.report.SubmitReportAction" input="input"
			scope="request">
			<exception
				handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler"
				bundle="report" key="error.securityException"
				path="report.viewReport"
				type="gov.nih.nci.calab.exception.CaNanoLabSecurityException" />
			<exception
				handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler"
				bundle="report" key="error.generalException"
				path="report.viewReport" type="java.lang.Exception" />
			<forward name="input" path="report.viewReport" />
			<forward name="success" path="report.message" />
		</action>
		<action path="/reportResults"
			type="gov.nih.nci.calab.ui.core.BaseForwardAction"
			parameter="report.searchReportResult" scope="request" />
		<action input="input" name="searchReportForm"
			parameter="dispatch" path="/searchReport"
			type="gov.nih.nci.calab.ui.report.SearchReportAction"
			scope="request">
			<exception
				handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler"
				bundle="report" key="error.securityException"
				path="report.searchReport"
				type="gov.nih.nci.calab.exception.CaNanoLabSecurityException" />
			<exception
				handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler"
				bundle="report" key="error.generalException"
				path="report.searchReport" type="java.lang.Exception" />
			<forward name="input" path="report.searchReport" />
			<forward name="success" path="report.searchReportResult" />
		</action>
		<action input="input" name="remoteSearchReportForm"
			parameter="dispatch" path="/remoteSearchReport"
			type="gov.nih.nci.calab.ui.report.RemoteSearchReportAction"
			scope="request">
			<exception
				handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler"
				bundle="report" key="error.grid.discovery"
				path="report.remoteSearchReport"
				type="gov.nih.nci.calab.exception.GridAutoDiscoveryException" />
			<exception
				handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler"
				bundle="report" key="error.grid.notAvailable"
				path="report.remoteSearchReportResult"
				type="gov.nih.nci.calab.exception.GridQueryException" />
			<exception
				handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler"
				bundle="report" key="error.securityException"
				path="report.remoteSearchReport"
				type="gov.nih.nci.calab.exception.CaNanoLabSecurityException" />
			<exception
				handler="gov.nih.nci.calab.ui.core.BaseExceptionHandler"
				bundle="report" key="error.generalException"
				path="report.remoteSearchReport" type="java.lang.Exception" />
			<forward name="input" path="report.remoteSearchReport" />
			<forward name="success"
				path="report.remoteSearchReportResult" />
		</action>
	</action-mappings>
</struts-config>
